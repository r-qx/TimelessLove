<view class="edit-container">
  <view class="avatar-section">
    <view class="avatar-card" bindtap="chooseAvatar">
      <view class="avatar-ring">
        <image class="edit-avatar" src="{{userInfo.avatar}}" mode="aspectFill" />
        <view class="avatar-overlay">
          <text class="camera-emoji">ğŸ“·</text>
          <text class="overlay-text">æ›´æ¢</text>
        </view>
      </view>
    </view>
  </view>

  <view class="form-section">
    <view class="form-card">
      <view class="field-item">
        <text class="field-label">æ˜µç§°</text>
        <van-field
          value="{{ userInfo.nickname }}"
          placeholder="è¯·è¾“å…¥æ˜µç§°"
          bind:change="onNicknameChange"
          maxlength="20"
          border="{{ false }}"
          input-align="right"
        />
      </view>

      <view class="field-divider"></view>

      <view class="field-item" bindtap="showGenderPicker">
        <text class="field-label">æ€§åˆ«</text>
        <view class="field-value-row">
          <text class="field-value">{{ genderText }}</text>
          <van-icon name="arrow" color="#B5A3A8" size="14px" />
        </view>
      </view>

      <view class="field-divider"></view>

      <view class="field-item">
        <text class="field-label">ç”Ÿæ—¥</text>
        <picker mode="date" value="{{userInfo.birthday}}" bindchange="onBirthdayChange">
          <view class="field-value-row">
            <text class="field-value {{userInfo.birthday ? '' : 'placeholder'}}">
              {{ userInfo.birthday || 'è¯·é€‰æ‹©ç”Ÿæ—¥' }}
            </text>
            <van-icon name="arrow" color="#B5A3A8" size="14px" />
          </view>
        </picker>
      </view>
    </view>
  </view>

  <view class="save-section">
    <van-button round block color="#C2185B" bind:click="onSave" loading="{{saving}}"
      custom-style="letter-spacing: 4rpx; font-weight: 600;">
      ä¿å­˜ä¿®æ”¹
    </van-button>
  </view>

  <van-popup show="{{ genderPickerShow }}" position="bottom" bind:close="closeGenderPicker"
    custom-style="background: #FEF7F0;">
    <van-picker
      columns="{{ genderColumns }}"
      value-key="text"
      bind:confirm="onGenderConfirm"
      bind:cancel="closeGenderPicker"
      show-toolbar="{{ true }}"
      title="é€‰æ‹©æ€§åˆ«"
      confirm-button-text="ç¡®å®š"
      cancel-button-text="å–æ¶ˆ"
    />
  </van-popup>
</view>
