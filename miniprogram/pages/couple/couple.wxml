<view class="couple-container">
  <view class="page-header">
    <view class="header-icon animate-breathe">💕</view>
    <text class="header-title">建立情侣关系</text>
    <text class="header-subtitle">开始你们的甜蜜旅程</text>
  </view>

  <view class="tab-switcher">
    <view class="tab-bg {{activeTab === 'join' ? 'right' : ''}}"></view>
    <view class="tab-btn {{activeTab === 'create' ? 'active' : ''}}" bindtap="switchTab" data-tab="create">
      <text>创建关系</text>
    </view>
    <view class="tab-btn {{activeTab === 'join' ? 'active' : ''}}" bindtap="switchTab" data-tab="join">
      <text>加入关系</text>
    </view>
  </view>

  <view class="content" wx:if="{{activeTab === 'create'}}">
    <view class="form-card">
      <view wx:if="{{!inviteCode}}" class="form-content">
        <view class="form-field">
          <view class="field-header">
            <text class="field-icon">📅</text>
            <text class="field-title">恋爱纪念日</text>
          </view>
          <picker mode="date" value="{{anniversary}}" bindchange="onDateChange">
            <view class="date-display">
              <text class="date-text {{anniversary ? '' : 'placeholder'}}">
                {{anniversary || '选择那个特别的日子'}}
              </text>
              <van-icon name="arrow" color="#B5A3A8" size="16px" />
            </view>
          </picker>
        </view>

        <button class="create-action-btn" bindtap="onCreate">
          <text class="action-btn-text">创建情侣关系</text>
        </button>
      </view>

      <view wx:if="{{inviteCode}}" class="success-content">
        <view class="success-icon-wrap">
          <text class="success-emoji">🎉</text>
        </view>
        <text class="success-title">创建成功！</text>
        <text class="success-desc">将邀请码发送给TA，TA输入后即可建立关系</text>
        
        <view class="code-box">
          <text class="invite-code">{{inviteCode}}</text>
        </view>
        
        <button class="copy-action-btn" bindtap="onCopy" data-text="{{inviteCode}}">
          <text>复制邀请码</text>
        </button>
        
        <view class="tip-box">
          <text class="tip-icon">💡</text>
          <text class="tip-text">此邀请码永久有效，直到TA加入为止</text>
        </view>
      </view>
    </view>
  </view>

  <view class="content" wx:if="{{activeTab === 'join'}}">
    <view class="form-card">
      <view class="form-field">
        <view class="field-header">
          <text class="field-icon">🔗</text>
          <text class="field-title">输入对方的邀请码</text>
        </view>
        <input 
          class="code-input" 
          placeholder="请输入8位邀请码" 
          value="{{inputCode}}"
          bindinput="onInputChange"
          maxlength="8"
          placeholder-style="color: #B5A3A8;"
        />
      </view>

      <button class="create-action-btn" bindtap="onJoin">
        <text class="action-btn-text">加入情侣关系</text>
      </button>
    </view>
  </view>
</view>
